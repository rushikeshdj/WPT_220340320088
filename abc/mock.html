<!DOCTYPE html>
<html>

<head>

	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>

	<script src="jquery-3.5.1.min.js"></script>
	<script>

		$(() => {
			console.log('DOM loaded');

			$('#add').click(() => {
				console.log('Add clicked')

				let input = {
					bookid: $('#bookid').val(),
					bookname: $('#bookname').val(),
					price: $('#price').val()
				}

				let addfunc = {
					data: input,
					url: "http://localhost:8081/insert",
					type: "get",
					datatype: "json",
					success: (datagivenbyserver) => {
						if (datagivenbyserver.status === true) {
							console.log('true')
							$('#status').text('Book added');
							// $('#details').text(data.status);
						}
						else {
							$('#status').text('Book not added');
						}
					},
					error: (error) => {

						$('#status').text('Error')

					}

				}

			});
			$.ajax(addfunc);

		});


	</script>
</head>

<body>

	<form action="insert" method="get">
		<Br />Book ID <input type="text" id="bookid" />
		<span id="status">Book Status</span>
		<br>Book Name <input type="text" id="bookname" />
		<br>Price <input type="text" id="price" />
		<br><button id="add">Add a book</button>
		<br>
		<p id="details">Book Details</p>

	</form>
</body>

</html>